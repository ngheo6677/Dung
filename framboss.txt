local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local lp = Players.LocalPlayer

local KEY_URL = "https://pastebin.com/raw/gdvWVAFX" -- üß∑ Danh s√°ch key t·ª´ Pastebin

-- GUI nh·∫≠p key
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "KeyGUI"

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 300, 0, 160)
frame.Position = UDim2.new(0.5, -150, 0.5, -80)
frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 30)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "üîë Nh·∫≠p Key ƒë·ªÉ ti·∫øp t·ª•c"
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextColor3 = Color3.new(1,1,1)

local input = Instance.new("TextBox", frame)
input.Size = UDim2.new(0.9, 0, 0, 35)
input.Position = UDim2.new(0.05, 0, 0, 40)
input.Text = ""
input.PlaceholderText = "Nh·∫≠p key t·∫°i ƒë√¢y"
input.Font = Enum.Font.Gotham
input.TextSize = 14
input.TextColor3 = Color3.new(1, 1, 1)
input.BackgroundColor3 = Color3.fromRGB(45,45,45)

local status = Instance.new("TextLabel", frame)
status.Size = UDim2.new(1, 0, 0, 25)
status.Position = UDim2.new(0, 0, 0, 80)
status.BackgroundTransparency = 1
status.Text = ""
status.Font = Enum.Font.Gotham
status.TextSize = 14
status.TextColor3 = Color3.new(1, 1, 0)

local button = Instance.new("TextButton", frame)
button.Size = UDim2.new(0.9, 0, 0, 35)
button.Position = UDim2.new(0.05, 0, 0, 110)
button.Text = "‚úÖ X√°c nh·∫≠n"
button.Font = Enum.Font.GothamBold
button.TextSize = 14
button.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
button.TextColor3 = Color3.new(1,1,1)

local continue = false

button.MouseButton1Click:Connect(function()
	local userKey = string.lower(input.Text):gsub("%s+", "")
	if userKey == "" then
		status.Text = "‚ö†Ô∏è B·∫°n ch∆∞a nh·∫≠p key!"
		return
	end

	local success, content = pcall(function()
		return game:HttpGet(KEY_URL)
	end)

	if not success then
		status.Text = "üö´ Kh√¥ng th·ªÉ k·∫øt n·ªëi t·ªõi server key!"
		return
	end

	local found = false
	for _, line in ipairs(string.split(content, "\n")) do
		if string.lower(line):gsub("%s+", "") == userKey then
			found = true
			break
		end
	end

	if found then
		status.Text = "‚úÖ Key h·ª£p l·ªá, ƒëang ch·∫°y..."
		continue = true
		task.wait(1)
		gui:Destroy()
	else
		status.Text = "‚ùå Key kh√¥ng h·ª£p l·ªá!"
	end
end)

-- ‚õîÔ∏è D·ª™NG M·ªåI SCRIPT B√äN D∆Ø·ªöI N·∫æU CH∆ØA C√ì KEY ƒê√öNG
while not continue do
	task.wait()
end

-- ‚úÖ‚úÖ‚úÖ D√ÅN SCRIPT FARM BOSS G·ªêC V√ÄO SAU D√íNG N√ÄY ‚¨á‚¨á‚¨á
print("[SCRIPT]: Script farm boss b·∫Øt ƒë·∫ßu ho·∫°t ƒë·ªông...")
-- D√°n code c·ªßa b·∫°n v√†o ƒë√¢y


local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local lp = Players.LocalPlayer

-- T·∫°o GUI ZENmode X
local gui = Instance.new("ScreenGui")
gui.Name = "FarmBossGUI"
pcall(function()
	gui.Parent = game:FindFirstChildOfClass("CoreGui")
end)
if not gui.Parent then
	gui.Parent = lp:WaitForChild("PlayerGui")
end

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 250, 0, 150)
frame.Position = UDim2.new(0, 20, 0, 100)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BackgroundTransparency = 0.1
frame.BorderSizePixel = 0
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 30)
title.Text = "üí§üåÄ ZENmode X"
title.BackgroundTransparency = 1
title.TextColor3 = Color3.new(1,1,1)
title.Font = Enum.Font.GothamBold
title.TextScaled = true

local toggle = Instance.new("TextButton", frame)
toggle.Size = UDim2.new(0, 200, 0, 30)
toggle.Position = UDim2.new(0, 25, 0, 40)
toggle.Text = "B·∫≠t Farm Boss"
toggle.BackgroundColor3 = Color3.fromRGB(60,60,60)
toggle.TextColor3 = Color3.new(1,1,1)
toggle.Font = Enum.Font.Gotham
toggle.TextScaled = true
Instance.new("UICorner", toggle)

local distanceBox = Instance.new("TextBox", frame)
distanceBox.Size = UDim2.new(0, 200, 0, 25)
distanceBox.Position = UDim2.new(0, 25, 0, 80)
distanceBox.PlaceholderText = "Kho·∫£ng c√°ch (VD: 12)"
distanceBox.Text = ""
distanceBox.ClearTextOnFocus = false
distanceBox.BackgroundColor3 = Color3.fromRGB(45,45,45)
distanceBox.TextColor3 = Color3.new(1,1,1)
distanceBox.Font = Enum.Font.Gotham
distanceBox.TextScaled = true
Instance.new("UICorner", distanceBox)

local speedBox = Instance.new("TextBox", frame)
speedBox.Size = UDim2.new(0, 200, 0, 25)
speedBox.Position = UDim2.new(0, 25, 0, 110)
speedBox.PlaceholderText = "T·ªëc ƒë·ªô v√≤ng (VD: 2)"
speedBox.Text = ""
speedBox.ClearTextOnFocus = false
speedBox.BackgroundColor3 = Color3.fromRGB(45,45,45)
speedBox.TextColor3 = Color3.new(1,1,1)
speedBox.Font = Enum.Font.Gotham
speedBox.TextScaled = true
Instance.new("UICorner", speedBox)

-- Script Farm Stealth
local active = false
local orbitConnection, attackConnection
local character, hrp

function getBoss()
	local bosses = workspace:FindFirstChild("GiangHo2") and workspace.GiangHo2:FindFirstChild("NPCs")
	if not bosses then return nil end
	for _, boss in pairs(bosses:GetChildren()) do
		if boss:FindFirstChild("HumanoidRootPart") and boss:FindFirstChildOfClass("Humanoid") then
			if boss.Humanoid.Health > 0 then
				return boss
			end
		end
	end
	return nil
end

function getTool()
	for _, tool in pairs(lp.Character:GetChildren()) do
		if tool:IsA("Tool") then
			return tool
		end
	end
	return nil
end

function attachStealthMover(hrp)
	local bg = Instance.new("BodyGyro", hrp)
	bg.Name = "ZENgyro"
	bg.MaxTorque = Vector3.new(1e6,1e6,1e6)
	bg.P = 1e4

	local bp = Instance.new("BodyPosition", hrp)
	bp.Name = "ZENpos"
	bp.MaxForce = Vector3.new(1e6,1e6,1e6)
	bp.P = 1e4
	bp.D = 100
end

function removeStealthMover()
	if hrp then
		local bg = hrp:FindFirstChild("ZENgyro")
		local bp = hrp:FindFirstChild("ZENpos")
		if bg then bg:Destroy() end
		if bp then bp:Destroy() end
	end
end

function updateMover(pos, faceTarget)
	if not hrp then return end
	local bg = hrp:FindFirstChild("ZENgyro")
	local bp = hrp:FindFirstChild("ZENpos")
	if bg and faceTarget then
		bg.CFrame = CFrame.new(hrp.Position, faceTarget)
	end
	if bp then
		bp.Position = pos + Vector3.new(0, math.sin(tick()*5)*0.5, 0)
	end
end

function startFarm()
	active = true
	character = lp.Character
	hrp = character and character:FindFirstChild("HumanoidRootPart")
	if not character or not hrp then print("[DEBUG][Character]: M·∫•t") return end

	attachStealthMover(hrp)

	orbitConnection = RunService.Heartbeat:Connect(function()
		local boss = getBoss()
		if not boss then print("[DEBUG][Boss]: Kh√¥ng t√¨m th·∫•y") stopFarm() return end
		local bossHRP = boss:FindFirstChild("HumanoidRootPart")
		if not bossHRP then print("[DEBUG][Boss HRP]: M·∫•t") stopFarm() return end
		if not character or not character:FindFirstChild("HumanoidRootPart") then
			character = lp.Character
			hrp = character and character:FindFirstChild("HumanoidRootPart")
			if not hrp then print("[DEBUG][Character]: b·ªã reset m·ªõi") stopFarm() return end
			attachStealthMover(hrp)
		end

		local distance = tonumber(distanceBox.Text) or 10
		local speed = tonumber(speedBox.Text) or 2
		local angle = tick() * speed
		local offset = Vector3.new(math.cos(angle)*distance, 0, math.sin(angle)*distance)
		local targetPos = bossHRP.Position + offset
		updateMover(targetPos, bossHRP.Position)
	end)

	attackConnection = RunService.Heartbeat:Connect(function()
		local tool = getTool()
		if tool and tool:FindFirstChild("Handle") then
			tool:Activate()
		end
	end)
end

function stopFarm()
	active = false
	removeStealthMover()
	if orbitConnection then orbitConnection:Disconnect() orbitConnection = nil end
	if attackConnection then attackConnection:Disconnect() attackConnection = nil end
end

toggle.MouseButton1Click:Connect(function()
	active = not active
	if active then
		toggle.Text = "ƒêang Farm Boss..."
		startFarm()
	else
		toggle.Text = "B·∫≠t Farm Boss"
		stopFarm()
	end
end)

-- Hi·ªÉn th·ªã m√°u boss ngo√†i GUI
local hpGUI = Instance.new("ScreenGui", lp:WaitForChild("PlayerGui"))
hpGUI.Name = "BossHealthDisplay"

local hpLabel = Instance.new("TextLabel", hpGUI)
hpLabel.Size = UDim2.new(0, 200, 0, 35)
hpLabel.Position = UDim2.new(1, -210, 0, 10)
hpLabel.BackgroundTransparency = 0.4
hpLabel.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
hpLabel.TextColor3 = Color3.fromRGB(255, 70, 70)
hpLabel.Font = Enum.Font.GothamBold
hpLabel.TextSize = 20
hpLabel.Text = "M√°u Boss: ƒêang t√¨m..."
Instance.new("UICorner", hpLabel)

-- C·∫≠p nh·∫≠t m√°u boss li√™n t·ª•c
task.spawn(function()
	while true do
		local boss = getBoss()
		if boss and boss:FindFirstChild("Humanoid") then
			local hp = math.floor(boss.Humanoid.Health)
			local max = math.floor(boss.Humanoid.MaxHealth)
			hpLabel.Text = "M√°u Boss: " .. hp .. " / " .. max
		else
			hpLabel.Text = "M√°u Boss: Kh√¥ng t√¨m th·∫•y"
		end
		task.wait(0.2)
	end
end)
